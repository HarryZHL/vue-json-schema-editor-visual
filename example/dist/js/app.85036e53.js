(function(e){function t(t){for(var i,o,c=t[0],r=t[1],l=t[2],h=0,u=[];h<c.length;h++)o=c[h],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);d&&d(t);while(u.length)u.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,o=1;o<a.length;o++){var r=a[o];0!==n[r]&&(i=!1)}i&&(s.splice(t--,1),e=c(c.s=a[0]))}return e}var i={},n={app:0},s=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d0ab078":"f83af85a"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,i){a=n[e]=[t,i]}));t.push(a[2]=i);var s,r=document.createElement("script");r.charset="utf-8",r.timeout=120,c.nc&&r.setAttribute("nonce",c.nc),r.src=o(e);var l=new Error;s=function(t){r.onerror=r.onload=null,clearTimeout(h);var a=n[e];if(0!==a){if(a){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",l.name="ChunkLoadError",l.type=i,l.request=s,a[1](l)}n[e]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:r})}),12e4);r.onerror=r.onload=s,document.head.appendChild(r)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(a,i,function(t){return e[t]}.bind(null,i));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var h=0;h<r.length;h++)t(r[h]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0278":function(e,t,a){},"034f":function(e,t,a){"use strict";a("85ec")},"0e1de":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"array-type"},[a("el-row",{attrs:{type:"flex",align:"middle"}},[a("el-col",{staticClass:"col-item name-item col-item-name",style:e.tagPaddingLeftStyle,attrs:{span:8}},[a("el-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("el-col",{staticClass:"down-style-col",attrs:{span:2}},["object"===e.items.type?a("span",{staticClass:"down-style",on:{click:e.handleClickIcon}},[e.showIcon?a("i",{staticClass:"el-icon-caret-right icon-object"}):a("i",{staticClass:"el-icon-caret-bottom icon-object"})]):e._e()]),a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{disabled:"",value:"Items",size:"small"}})],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[a("el-tooltip",{attrs:{placement:"top",content:"全选"}},[a("el-checkbox",{attrs:{disabled:""}})],1)],1)],1)],1),a("el-col",{staticClass:"col-item col-item-type",attrs:{span:3}},[a("el-select",{staticClass:"type-select-style",attrs:{value:e.items.type,size:"small"},on:{change:e.handleChangeType}},e._l(e.schemaTypes,(function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1),e.isMock?a("el-col",{staticClass:"col-item col-item-mock",attrs:{span:3}},[a("MockSelect",{attrs:{schema:e.items},on:{showEdit:function(t){return e.handleAction({eventType:"mock-edit"})},change:e.handleChangeMock}})],1):e._e(),e.showTitle?a("el-col",{staticClass:"col-item col-item-mock",attrs:{span:e.isMock?4:5}},[a("el-input",{attrs:{placeholder:"标题",size:"small"},model:{value:e.items.title,callback:function(t){e.$set(e.items,"title",t)},expression:"items.title"}},[a("i",{staticClass:"el-icon-edit",attrs:{slot:"append"},on:{click:function(t){return e.handleAction({eventType:"show-edit",field:"title"})}},slot:"append"})])],1):e._e(),!e.showTitle&&e.showDefaultValue?a("el-col",{staticClass:"col-item col-item-mock",attrs:{span:e.isMock?4:5}},[a("el-input",{attrs:{placeholder:"默认值",size:"small"},model:{value:e.items.default,callback:function(t){e.$set(e.items,"default",t)},expression:"items.default"}},[a("i",{staticClass:"el-icon-edit",attrs:{slot:"append"},on:{click:function(t){return e.handleAction({eventType:"show-edit",field:"default"})}},slot:"append"})])],1):e._e(),a("el-col",{staticClass:"col-item col-item-desc",attrs:{span:e.isMock?4:5}},[a("el-input",{attrs:{placeholder:"备注",size:"small"},model:{value:e.items.description,callback:function(t){e.$set(e.items,"description",t)},expression:"items.description"}},[a("i",{staticClass:"el-icon-edit",attrs:{slot:"append"},on:{click:function(t){return e.handleAction({eventType:"show-edit",field:"description"})}},slot:"append"})])],1),a("el-col",{staticClass:"col-item col-item-setting",attrs:{span:e.isMock?2:3}},["object"===e.items.type?a("span",{on:{click:function(t){return e.handleAction({eventType:"add-field",isChild:!0})}}},[a("el-tooltip",{attrs:{placement:"top",content:"添加子节点"}},[a("i",{staticClass:"el-icon-plus plus"})])],1):e._e()])],1),a("div",{staticClass:"option-formStyle"},["array"===e.items.type?[a("SchemaArray",{attrs:{prefix:e.prefixArray,data:e.items,"is-mock":e.isMock,"show-title":e.showTitle,"show-default-value":e.showDefaultValue,"editor-id":e.editorId}})]:e._e(),"object"!==e.items.type||e.showIcon?e._e():[a("SchemaObject",{attrs:{prefix:e.nameArray,data:e.items,"is-mock":e.isMock,"show-title":e.showTitle,"show-default-value":e.showDefaultValue,"editor-id":e.editorId}})]],2)],1)},n=[],s=a("5530"),o=(a("99af"),a("4de4"),a("b0c0"),a("8730")),c=a.n(o),r=a("2165"),l=a("2aaa"),h=a("50f3"),d={name:"SchemaArray",components:{MockSelect:r["a"],SchemaObject:l["a"]},props:{isMock:{type:Boolean,default:!1},showTitle:{type:Boolean,default:!1},showDefaultValue:{type:Boolean,default:!1},editorId:{type:String,default:"editor_id"},name:{type:String,default:""},prefix:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){}},action:{type:Function,default:function(){return function(){}}}},data:function(){return{tagPaddingLeftStyle:{},schemaTypes:h["b"],items:this.data.items,showIcon:!1}},computed:{nameArray:function(){return[].concat(this.prefixArray,"properties")},prefixArray:function(){return[].concat(this.prefix,"items")}},beforeMount:function(){var e=this.prefix.filter((function(e){return"properties"!==e})).length;this.tagPaddingLeftStyle={paddingLeft:"".concat(20*(e+1),"px")}},methods:{isUndefined:function(){return c.a},handleClickIcon:function(){this.showIcon=!this.showIcon},handleAction:function(e){var t=this.prefix,a=this.name;this.$jsEditorEvent.emit("schema-update-".concat(this.editorId),Object(s["a"])({prefix:t,name:a||"items"},e))},handleChangeMock:function(){},handleChangeType:function(e){console.log(e),this.handleAction({eventType:"schema-type",value:e})}}},u=d,p=a("2877"),m=Object(p["a"])(u,i,n,!1,null,null,null);t["a"]=m.exports},2165:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-autocomplete",{staticClass:"certain-category-search",attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"mock",value:e.schema.mock?e.schema.mock.mock:"",disabled:"object"===e.schema.type||"array"===e.schema.type},on:{change:e.handleChange},model:{value:e.mockValue,callback:function(t){e.mockValue=t},expression:"mockValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-edit"},on:{click:e.showEdit},slot:"append"})],1)],1)},n=[],s=(a("4de4"),{name:"MockSelect",props:{schema:{type:Object,default:function(){}},mock:{type:Array,default:function(){return[]}}},data:function(){return{mockValue:""}},created:function(){},mounted:function(){},methods:{showEdit:function(){this.$emit("showEdit")},handleChange:function(e){this.$emit("change",e)},querySearchAsync:function(e,t){var a=this.mock||[],i=e?a.filter(this.createStateFilter(e)):a;t(i)},createStateFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}}}}),o=s,c=a("2877"),r=Object(c["a"])(o,i,n,!1,null,"28b5c3cc",null);t["a"]=r.exports},"2aaa":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"object-style"},e._l(e.propertyKeys,(function(t,i){return a("schema-item",{key:i,attrs:{data:e.data,name:t,prefix:e.prefix,"is-mock":e.isMock,"show-title":e.showTitle,"show-default-value":e.showDefaultValue,"editor-id":e.editorId}})})),1)},n=[],s=(a("d3b7"),a("3ca3"),a("ddb0"),a("b64b"),{name:"SchemaObject",components:{"schema-item":function(){return a.e("chunk-2d0ab078").then(a.bind(null,"1410"))}},props:{prefix:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){}},isMock:{type:Boolean,default:!1},showTitle:{type:Boolean,default:!1},showDefaultValue:{type:Boolean,default:!1},editorId:{type:String,default:"editor_id"}},data:function(){return{tagPaddingLeftStyle:{},items:this.data.items}},computed:{propertyKeys:function(){return Object.keys(this.data.properties)}},methods:{}}),o=s,c=a("2877"),r=Object(c["a"])(o,i,n,!1,null,null,null);t["a"]=r.exports},"2da6":function(e,t,a){"use strict";a("fd29")},"50f3":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return r})),a.d(t,"g",(function(){return h})),a.d(t,"c",(function(){return u})),a.d(t,"i",(function(){return p})),a.d(t,"h",(function(){return m}));a("2909");var i=a("53ca"),n=(a("99af"),a("a434"),a("159b"),a("b64b"),a("d3b7"),a("25f0"),a("fb6a"),a("caad"),a("e832"),"."),s=["string","number","array","object","boolean","integer"],o={type:"object",title:"title",properties:{}},c={string:{type:"string"},number:{type:"number"},array:{type:"array",items:{type:"string"}},object:{type:"object",properties:{}},boolean:{type:"boolean"},integer:{type:"integer"}},r=function(e,t){for(var a=e,i=0;i<t.length-1;i++)a=a[t[i]];delete a[t[t.length-1]]};function l(e){var t=[];return Object.keys(e).forEach((function(e){t.push(e)})),t}function h(e,t){if("object"===e.type){var a=l(e.properties);t?e.required=[].concat(a):delete e.required,d(e.properties,t)}else{if("array"!==e.type)return e;h(e.items,t)}}function d(e,t){for(var a in e)"array"!==e[a].type&&"object"!==e[a].type||h(e[a],t)}function u(e){if("object"===Object(i["a"])(e)){if(Array.isArray(e)){var t=[];return e.forEach((function(e,a){t[a]=u(e)})),t}var a={};for(var n in e)a[n]=u(e[n]);return a}return e}var p=function(){return Math.random().toString(16).substr(2,5)},m=function(){e&&Object({NODE_ENV:"production",BASE_URL:"/"})}}).call(this,a("4362"))},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("5c96"),n=a.n(i),s=(a("0fae"),a("2b0e")),o=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:8}},[a("json-editor",{attrs:{value:e.originJsonString},on:{changed:e.jsonEditorChange}})],1),a("el-col",{attrs:{span:16}},[e.jsonSchemaVueEditorShow?a("div",{staticClass:"json-schema-vue-editor"},[a("el-row",{attrs:{type:"flex",align:"middle"}},[a("el-col",{staticClass:"col-item name-item col-item-name",attrs:{span:8}},[a("el-row",{attrs:{type:"flex",justify:"space-around",align:"middle"}},[a("el-col",{staticClass:"down-style-col",attrs:{span:2}},["object"===e.schemaData.type?a("span",{staticClass:"down-style",on:{click:e.handleClickIcon}},[e.show?a("i",{staticClass:"el-icon-caret-bottom icon-object"}):e._e(),e.show?e._e():a("i",{staticClass:"el-icon-caret-right icon-object"})]):e._e()]),a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{disabled:"",value:"root",size:"small"}})],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[a("el-tooltip",{attrs:{placement:"top",content:"全选"}},[a("el-checkbox",{attrs:{checked:e.checked,disabled:e.disabled},on:{change:e.changeCheckBox}})],1)],1)],1)],1),a("el-col",{staticClass:"col-item col-item-type",attrs:{span:3}},[a("el-select",{staticClass:"type-select-style",attrs:{value:e.schemaData.type,disabled:e.schemaData.disabled&&!e.schemaData.canChangeType,size:"small"},on:{change:function(t){return e.handleChangeType2(t)}}},e._l(e.schemaTypes,(function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})})),1)],1),e.isMock?a("el-col",{staticClass:"col-item col-item-mock",attrs:{span:3}},[a("MockSelect",{attrs:{schema:e.schemaData},on:{showEdit:e.handleShowEdit,change:e.handleChangeMock}})],1):e._e(),e.showTitle?a("el-col",{staticClass:"col-item col-item-mock",attrs:{span:e.isMock?4:5}},[a("el-input",{attrs:{placeholder:"标题",disabled:e.schemaData.disabled,size:"small"},model:{value:e.schemaData.title,callback:function(t){e.$set(e.schemaData,"title",t)},expression:"schemaData.title"}},[a("i",{staticClass:"el-icon-edit",attrs:{slot:"append"},on:{click:function(t){return e.handleSchemaUpdateEvent({eventType:"show-edit",field:"title",prefix:["properties"],isRoot:!0})}},slot:"append"})])],1):e._e(),!e.showTitle&&e.showDefaultValue?a("el-col",{staticClass:"col-item col-item-mock",attrs:{span:e.isMock?4:5}},[a("el-input",{attrs:{placeholder:"默认值",size:"small",disabled:"object"===e.schemaData.type||"array"===e.schemaData.type||e.schemaData.disabled},model:{value:e.schemaData.default,callback:function(t){e.$set(e.schemaData,"default",t)},expression:"schemaData.default"}},[a("i",{staticClass:"el-icon-edit",attrs:{slot:"append"},on:{click:function(t){return e.handleSchemaUpdateEvent({eventType:"show-edit",field:"default",prefix:["properties"],isRoot:!0})}},slot:"append"})])],1):e._e(),a("el-col",{staticClass:"col-item col-item-desc",attrs:{span:e.isMock?4:5}},[a("el-input",{attrs:{placeholder:"备注",size:"small",disabled:e.schemaData.disabled},model:{value:e.schemaData.description,callback:function(t){e.$set(e.schemaData,"description",t)},expression:"schemaData.description"}},[a("i",{staticClass:"el-icon-edit",attrs:{slot:"append"},on:{click:function(t){return e.handleSchemaUpdateEvent({eventType:"show-edit",field:"description",prefix:["properties"],isRoot:!0})}},slot:"append"})])],1),a("el-col",{staticClass:"col-item col-item-setting",attrs:{span:2}},["object"===e.schemaData.type?a("span",{on:{click:function(t){return e.handleSchemaUpdateEvent({eventType:"add-field",isChild:!1,prefix:["properties"]})}}},[a("el-tooltip",{attrs:{placement:"top",content:"添加子节点"}},[a("i",{staticClass:"el-icon-plus plus"})])],1):e._e()])],1),e.show?a("schema-json",{attrs:{data:e.schemaData,"is-mock":e.isMock,"show-title":e.showTitle,"show-default-value":e.showDefaultValue,"editor-id":e.editorId}}):e._e()],1):e._e()])],1)}),c=[],r=a("53ca"),l=a("5530"),h=a("2909"),d=a("15fd"),u=(a("159b"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("a630"),a("99af"),a("b64b"),a("a15b"),a("a434"),a("d81d"),a("a4d3"),a("e01a"),a("1f4d")),p=a.n(u),m=a("79d4"),f=a.n(m),y=a("b94d"),b=a.n(y),g=a("c843"),v=a.n(g),j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._b({staticClass:"schema-content"},"div",e.$attrs,!1),["array"===e.data.type?[a("schema-array",{attrs:{prefix:e.name,data:e.data,"is-mock":e.isMock,"show-title":e.showTitle,"show-default-value":e.showDefaultValue,"editor-id":e.editorId}})]:e._e(),"object"===e.data.type?[a("schema-object",{attrs:{prefix:e.nameArray,data:e.data,"is-mock":e.isMock,"show-title":e.showTitle,"show-default-value":e.showDefaultValue,"editor-id":e.editorId}})]:e._e()],2)},w=[],k=a("2aaa"),S=a("0e1de"),C={name:"SchemaJson",components:{"schema-array":S["a"],"schema-object":k["a"]},inheritAttrs:!1,props:{data:{type:[Object,Array],default:function(){return[]}},isMock:{type:Boolean,default:!1},showTitle:{type:Boolean,default:!1},showDefaultValue:{type:Boolean,default:!1},editorId:{type:String,default:"editor_id"}},data:function(){return{name:[]}},computed:{nameArray:function(){return[].concat(this.name,"properties")}},methods:{}},D=C,E=a("2877"),O=Object(E["a"])(D,j,w,!1,null,null,null),x=O.exports,_=a("2165"),T=(a("0278"),a("50f3")),A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"json-editor"},[a("textarea",{ref:"textarea"})])},q=[],M=a("0e59"),I=a.n(M);a("8ba6"),a("38ba"),a("7fc5"),a("c8ab"),a("062d"),a("84a5"),a("870b");a("75d5");var V={name:"JsonEditor",props:{value:{type:String,default:""},readonly:{type:Boolean,default:!0},theme:{type:String,default:"idea"}},data:function(){return{jsonEditor:!1}},watch:{value:function(e){var t=this.jsonEditor.getValue();e!==t&&this.jsonEditor.setValue(this.value)},theme:function(){this.jsonEditor.setOption({theme:this.theme})}},mounted:function(){var e=this;this.jsonEditor=I.a.fromTextArea(this.$refs.textarea,{lineNumbers:!0,mode:"application/json",gutters:["CodeMirror-lint-markers"],theme:this.theme||"idea",readonly:!!this.readonly&&"nocursor",lint:!0}),this.jsonEditor.setValue(this.value),this.jsonEditor.on("change",(function(t){var a=t.getValue();e.$emit("changed",a),console.log("cmValueChange",a),e.$emit("input",a)}))},methods:{getValue:function(){return this.jsonEditor.getValue()}}},$=V,J=(a("2da6"),Object(E["a"])($,A,q,!1,null,"10111d3f",null)),R=J.exports;R.install=function(e){e.component(R.name,R)};var P=R,U=["eventType"],B={name:"JsonSchemaEditor",components:{MockSelect:_["a"],SchemaJson:x,JsonEditor:P},props:{schema:{type:Object,default:function(){}},isMock:{type:Boolean,default:!1},showTitle:{type:Boolean,default:!1},showDefaultValue:{type:Boolean,default:!1},showRaw:{type:Boolean,default:!0}},data:function(){var e={};T["b"].forEach((function(t){e[t]=!1}));var t=this.schema||T["d"];return{editorId:Object(T["i"])(),checked:!1,disabled:!1,show:!0,schemaTypes:T["b"],schemaData:t,rawDialogVisible:!1,basicDialogVisible:!1,basicModalData:{title:"",value:""},settingDialogVisible:e,settingModalData:{},requiredItems:new Set,originJson:{},originJsonString:"{}",jsonSchema:{},jsonSchemaVueEditorShow:!0}},watch:{schemaData:{handler:function(e){Object(T["h"])(this,"watch",e)},deep:!0}},mounted:function(){Object(T["h"])(this,this.schemaData),this.schemaToJson(this.schema,this.originJson),this.originJsonString=JSON.stringify(this.originJson,null,2),this.$jsEditorEvent.on("schema-update-".concat(this.editorId),this.handleSchemaUpdateEvent)},beforeDestroy:function(){this.$jsEditorEvent.off("schema-update-".concat(this.editorId),this.handleSchemaUpdateEvent)},methods:{handleSchemaUpdateEvent:function(e){var t=e.eventType,a=Object(d["a"])(e,U);switch(t){case"add-field":this.addFieldAction(a);break;case"delete-field":this.deleteFieldAction(a);break;case"update-field-name":this.updateFieldNameAction(a);break;case"schema-type":this.handleChangeType(a);break;case"show-edit":this.handleShowEdit(a);break;case"save-showedit":this.handleSaveShowEdit(a);break;case"setting":this.handleSettingAction(a);break;case"save-setting":this.handleSaveSetting(a);break;case"toggle-required":this.enableRequireAction(a);break;default:break}},getRequiredItems:function(){var e=v()(this.schemaData);return this.loopRequiredItems(e),Array.from(this.requiredItems)},loopRequiredItems:function(e){var t=this;e.required&&e.required.length&&e.required.forEach((function(a){t.requiredItems.add(e.parent?"".concat(e.parent,".").concat(a):"".concat(a))})),"object"===e.type&&e.properties&&Object.keys(e.properties).forEach((function(a){e.properties[a].parent=e.parent?"".concat(e.parent,".").concat(a):"".concat(a),t.loopRequiredItems(e.properties[a])})),"array"===e.type&&e.items.properties&&(e.items.parent=e.parent?"".concat(e.parent,"[0]"):"",this.loopRequiredItems(e.items,!0))},jsonEditorChange:function(e){console.log("jsonEditorChange");try{var t=JSON.parse(e);this.jsonSchema={},this.jsonToSchema(t,this.jsonSchema),this.forceUpdate(this.jsonSchema),this.handleEmitChange(this.jsonSchema)}catch(a){}},handleClickIcon:function(){this.show=!this.show},changeCheckBox:function(e){this.requireAllAction({required:e,value:this.schemaData})},requireAllAction:function(e){var t=e.value,a=e.required,i=Object(T["c"])(t);Object(T["g"])(i,a),this.forceUpdate(i),this.handleEmitChange(i)},enableRequireAction:function(e){var t=e.prefix,a=e.name,i=e.required,n=v()(t);n.pop();var s=Object(h["a"])(n),o=s.join(T["a"]),c=v()(this.schemaData),r=null;r=o?f()(c,o):c;var l=[].concat(r.required||[]),d=l.indexOf(a);!i&&d>=0?(l.splice(d,1),s.push("required"),0===l.length?Object(T["f"])(c,s):p()(c,s,l)):i&&-1===d&&(l.push(a),s.push("required"),p()(c,s,l)),this.forceUpdate(c),this.handleEmitChange(c)},addFieldAction:function(e){Object(T["h"])(this,e);var t=e.isChild,a=e.name,i=e.prefix,n="",s=[];if(t){var o=[].concat(i,a);n=o.concat("properties").join(T["a"]),s=Object(h["a"])(o)}else{n=i.join(T["a"]);var c=[].concat(i);c.pop(),s=c}Object(T["h"])("addFieldAction>>>",n,"\n\t");var r={},l="field_"+Object(T["i"])(),d=f()(this.schemaData,n);r=Object.assign({},d),r[l]=v()(T["e"].string);var u=v()(this.schemaData);p()(u,n,r);var m=null;m=s.length?f()(u,s):u;var y=[].concat(m.required||[]);y.push(l),s.push("required"),p()(u,s,y),this.schemaData=u,this.forceUpdate(u),this.handleEmitChange(u)},deleteFieldAction:function(e){var t=e.name,a=e.prefix,i=[].concat(a,t).join(T["a"]),n=v()(this.schemaData);b()(n,i),this.schemaData=n,this.forceUpdate(),this.handleEmitChange(n)},updateFieldNameAction:function(e){Object(T["h"])(this,e);var t=e.value,a=e.name,i=e.prefix,n=[],s=v()(i);s.pop(),n=s;var o=i.join(T["a"]),c=i.concat(a).join(T["a"]),r=v()(this.schemaData),l=f()(r,c);b()(r,c),p()(r,"".concat(o,".").concat(t),l);var h=null;h=n.length?f()(r,n):r;var d=[].concat(h.required||[]);d=d.map((function(e){return e===a?t:e})),n.push("required"),p()(r,n,d),this.schemaData=r,this.forceUpdate(),this.handleEmitChange(r)},handleChangeType2:function(e){this.schemaData.type=e;var t=this.schemaData.description?{description:this.schemaData.description}:{},a=T["e"][e],i=Object.assign({},a,t);this.schemaData=i,this.handleEmitChange(this.schemaData)},handleChangeType:function(e){Object(T["h"])(this,e,2);var t=e.value,a=e.name,i=e.prefix,n=[].concat(i,a),s=v()(this.schemaData),o=f()(s,n),c=T["e"][t],r=o.description?{description:o.description}:{},l=Object.assign({},c,r);p()(s,n,l),this.schemaData=s,this.forceUpdate(),this.handleEmitChange(s)},handleShowEdit:function(e){var t,a=e.field,i=e.name,n=e.prefix,s=e.isRoot;if(Object(T["h"])(this,"handleShowEdit",i,n),s)t=this.schemaData;else{var o=[].concat(n,i);t=f()(this.schemaData,o)}"default"===a&&"array"===t.type||"object"===t.type||(this.basicDialogVisible=!0,Object.assign(this.basicModalData,Object(l["a"])({title:"title"===a?"标题":"default"===a?"默认值":"描述",value:t[a],editorId:this.editorId},e)))},handleSaveShowEdit:function(e){var t,a=e.value,i=e.field,n=e.name,s=e.prefix,o=e.isRoot,c=v()(this.schemaData);o?c[i]=a:(t=[].concat(s,n,i),p()(c,t,a)),this.schemaData=c,this.forceUpdate(),this.handleEmitChange(c)},handleSettingAction:function(e){var t,a=e.schemaType,i=e.name,n=e.prefix,s=e.isRoot;if(this.settingDialogVisible[a]=!0,s)t=this.schemaData;else{var o=[].concat(n,i);t=f()(this.schemaData,o)}this.settingModalData=Object(l["a"])({schemaType:a,name:i,isRoot:s,prefix:n,editorId:this.editorId},t)},handleSaveSetting:function(e){var t=e.name,a=e.prefix,i=e.newData,n=e.isRoot,s=v()(this.schemaData);if(console.log(n),n)Object.assign(s,Object(l["a"])({},i));else{var o=[].concat(a,t),c=f()(s,o);p()(s,o,Object(l["a"])(Object(l["a"])({},c),i))}this.schemaData=s,this.forceUpdate(),this.handleEmitChange(s)},handleChangeMock:function(){},handleReqBodyRaw:function(){this.rawDialogVisible=!0,this.forceUpdate()},forceUpdate:function(e){var t=this,a=e||this.schemaData;this.schemaData={},this.$nextTick((function(){t.schemaData=a}))},handleEmitChange:function(e){this.$emit("schema-change",e),this.$emit("update:schema",e),this.schemaToJson(e,this.originJson),this.originJsonString=JSON.stringify(this.originJson,null,2)},schemaToJson:function(e,t){var a=this;"object"===e.type&&e.properties&&Object.keys(e.properties).forEach((function(i){switch(e.properties[i].type){case"object":t[i]={},e.properties[i].properties&&a.schemaToJson(e.properties[i],t[i]);break;case"array":t[i]=[{}],e.properties[i].items.properties&&a.schemaToJson(e.properties[i].items,t[i][0]);break;default:t[i]=e.properties[i].type;break}}))},jsonToSchema:function(e,t){var a=this;"object"===Object(r["a"])(e)?Array.isArray(e)?(t.type="array",t.items={},this.jsonToSchema(e[0],t.items)):(t.type="object",Object.keys(e).forEach((function(i){t.properties||(t.properties={}),t.properties[i]={},a.jsonToSchema(e[i],t.properties[i])}))):t.type=e}}},z=B,N=Object(E["a"])(z,o,c,!1,null,null,null),F=N.exports,L=a("e832"),K=new L["a"]({methods:{on:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.$on.apply(this,t)},emit:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.$emit.apply(this,t)},off:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.$off.apply(this,t)},once:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.$once.apply(this,t)}}}),W={install:function(e){Object.defineProperty(e.prototype,"$jsEditorEvent",{value:K,writable:!0})}},H=W,Y=function(e){e.use(H),e.component(F.name,F)};F.install=Y,"undefined"!==typeof window&&window.Vue&&Y(window.Vue);var G=F,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("h1",[e._v("vue-json-schema-editor-visual example")]),a("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}}),e._m(0)],1)},X=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"120px"}},[e._v(" 更多 demo 见： "),a("a",{attrs:{href:"http://blog.giscafer.com/sinokit/#/./components/jsonschema-editor",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON Schema 编辑器")])])}],Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleToggleSchema}},[e._v("改变Schema")]),a("el-button",{attrs:{size:"mini",type:"info"},on:{click:e.handlePageParams}},[e._v("Toggle 分页参数")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getRequiredParams}},[e._v("获取勾选参数")]),a("json-schema-editor",{key:e.schemaKey,ref:"schemaEditor",attrs:{schema:e.schema},on:{"schema-change":e.onSchemaChange}})],1)},ee=[],te={data:function(){return{schemaKey:"1222",schema:{},schema2:{type:"object",title:"title",properties:{field_1:{type:"string"}}},schema3:{type:"object",title:"title",properties:{field_1:{type:"string"},field_2:{type:"object",properties:{field_3:{type:"object",properties:{field_4:{type:"array",items:{type:"object",properties:{field_1fca9:{type:"string"},field_21b59:{type:"string"}}}}},required:["field_4"]}},required:["field_3"]}},required:["field_1","field_2"]}}},created:function(){},mounted:function(){this.schema=this.schema3,this.schemaKey=Date.now()},methods:{getRequiredParams:function(){var e=this.$refs.schemaEditor.getRequiredItems();console.log("requiredItems",e)},handleToggleSchema:function(){JSON.stringify(this.schema)===JSON.stringify(this.schema2)?this.schema=Object.assign({},this.schema3):(this.schema=this.schema2,this.schema=Object.assign({},this.schema2)),this.schemaKey=Date.now()},handlePageParams:function(){var e=this;this.schema.type;var t=this.schema;if(t.properties.page)return delete t.properties.page,delete t.properties.size,void this.$nextTick((function(){e.schema=t,e.schemaKey=Date.now()+""}));var a={page:{type:"number",default:1,description:"第几页"},size:{type:"number",default:10,description:"每页记录数量"}};Object.assign(t.properties,a),this.schema=t,this.schemaKey=Date.now()+""},onSchemaChange:function(e){this.schemaJsonString=JSON.stringify(e,null,2)}}},ae=te,ie=Object(E["a"])(ae,Z,ee,!1,null,null,null),ne=ie.exports,se={name:"App",components:{HelloWorld:ne}},oe=se,ce=(a("034f"),Object(E["a"])(oe,Q,X,!1,null,null,null)),re=ce.exports;s["default"].use(n.a,{size:"small"}),s["default"].use(G),s["default"].config.productionTip=!1,new s["default"]({render:function(e){return e(re)}}).$mount("#app")},"85ec":function(e,t,a){},fd29:function(e,t,a){}});
//# sourceMappingURL=app.85036e53.js.map